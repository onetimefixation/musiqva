<!DOCTYPE html>
<html>
<head>
    <title>Flight Record Detail</title>
</head>
<body>
    <h1>Flight Record Detail</h1>
    <form id="updateForm" action="/updte-flt-data/<%= record._id %>" method="POST">
        <label for="firstname">First Name:</label>
        <input type="text" id="firstname" name="firstname" value="<%= record.firstname %>" required><br>
        <!-- Other form fields here -->
        <label for="lastname">Last Name:</label>
        <input type="text" id="lastname" name="lastname" value="<%= record.lastname %>" required><br>
        <label for="callsign">Call Sign:</label>
        <input type="text" id="callsign" name="callsign" value="<%= record.callsign %>" ><br>
        <label for="origin">Origin:</label>
        <input type="text" id="origin" name="origin" value="<%= record.origin %>" required><br>
        <label for="destination">Destination:</label>
        <input type="text" id="destination" name="destination" value="<%= record.destination %>" required><br>
        <label for="date_">Date:</label>
        <input type="text" id="date_" name="date_" value="<%= record.date_ %>"><br>
        <label for="time_">Time:</label>
        <input type="text" id="time_" name="time_" value="<%= record.time_ %>"><br>
        <label for="tbd3">tbd3:</label>
        <input type="text" id="tbd3" name="tbd3" value="<%= record.tbd3 %>"><br>
        <label for="tbd4">tbd4:</label>
        <input type="text" id="tbd4" name="tbd4" value="<%= record.tbd4 %>"><br>
        <label for="tbd5">tbd5:</label>
        <input type="text" id="tbd5" name="tbd5" value="<%= record.tbd5 %>"><br>
        <label for="pirep">Pirep:</label>
        <input type="text" id="pirep" name="pirep" value="<%= record.pirep %>"><br>

        <button type="submit">Save Changes</button>
    </form>

    <script>
        const updateForm = document.getElementById('updateForm');
        const recordId = '${record._id};'

        updateForm.addEventListener('submit', async (event) => {
            event.preventDefault();

            const formData = new FormData(updateForm);

            try {
                const response = await fetch(`http://localhost:3000/updte-flt-data/<%= record._id %>`, {
                    method: 'PUT',
                    body: formData,
                });

                if (response.ok) {
                    console.log('Flight data updated successfully');
                } else {
                    console.error('Error updating flight data');
                }
            } catch (error) {
                console.error('Error updating flight data:', error);
            }
        });
    </script>
</body>
</html>
